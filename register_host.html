<!doctype html>
<html lang="en">
<head>
	<meta http-equiv= "Expires" content="0">
	<meta http-equiv="Pragma" content="No-cache">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
 
 
	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="js/jquery.mobile-1.3.2.min.js"></script>
	<script src="js/ricoh.dapi.js"></script>
	<script src="js/ricoh.ice.helper.js"></script>
	<script src="js/ricoh.dapi.ext.js"></script>
	<script src="js/ricoh.dapi.app.js"></script>
	<script src="js/ricoh.ice.js"></script>
	<script src="js/ricoh.ice.ui.js"></script>
    <script src="js/spinner.js"></script>
    <script src="js/overlay.js"></script>
    <link rel="stylesheet" href="css/jquery.mobile-1.3.2.min.css">
	<link rel="stylesheet"  href="css/spinner.css">
	<link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio: 1.5)" href="css/registercheetahG1.css">
	<link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio: 1.0)" href="css/registercheetahG2.css">
	
	<script type="text/javascript">
		var viewport = document.createElement("meta"), scale;
		viewport.setAttribute( "name", "viewport");	
		
		if(window.devicePixelRatio === 1.5) {
			viewport.setAttribute("content", "width=device-width, initial-scale=1");
			document.getElementsByTagName("head")[0].appendChild(viewport);
		}else if(window.devicePixelRatio === 1) {
			viewport.setAttribute("content", "width=device-width, initial-scale=1, user-scalable=no");
			document.getElementsByTagName("head")[0].appendChild(viewport);
		}
	</script>
	
	<link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio: 1.5)" href="css/g1InlineStyling.css">
	<link rel="stylesheet" media="screen and (-webkit-device-pixel-ratio: 1.0)" href="css/g2InlineStyling.css">
	<script type="text/javascript">
		function load(){
			ricoh.ice.helper.dapi.init( ricoh.dapi.setBack_Menu(false) );
		}
			   
		$(document).ready(function() {
		    $('#cancelButton').on('click',function(){
		    	ricoh.dapi.buzzer("Confirmation");
		    	$('#firstName').val("");
		    	$('#lastName').val("");
		    	$('#customerEmail').val("");
		    	$('#companyName').val("");
		    	$('#phoneNumber').val("");
		    });
		    
		    
		    function validateForm(){
		    	if($('#firstName').val().trim()==''){
					alert("Please enter First name."); 
					return false;
				}
				if($('#lastName').val().trim()==''){
					alert("Please enter Last name."); 
					return false;
				}
				if(!checkemail($('#customerEmail').val().trim())){
					alert("Please enter valid Email."); 
					return false;
				}
				
				if($('#companyName').val().trim()==''){
					alert("Please enter Company Name."); 
					return false;
				}
				return true;
		    }
		    
			function checkemail(str){
				var filter = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/;
				if (filter.test(str)) {
			   		return true;
				} else {
			   		return false;
				}
			}
			
			
			$('.validinput').on('keypress', function (event) {
				var regex = new RegExp("^[a-zA-Z0-9-'.]+$");
			    var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
			    if(key != undefined && key.trim()!='' ){
				    if (!regex.test(key)) {
				       event.preventDefault();
				       alert('Please enter valid Character\nPlease enter alpha characters, "-", "." or " \' "');
				       return false;
				    }
			    }
			});
			

		    $('#submitButton').on('click',function(event){
		    	ricoh.dapi.buzzer("Confirmation");
		    	if(validateForm()){
		    		activateSpinner("Processing...");

		    		$.ajax({
				    	 type: "post",
				         url: "lambda.jsp",
				         data: {
				        	'firstName': $('#firstName').val(),
				        	'lastName': $('#lastName').val(),
				        	'customerEmail': $('#customerEmail').val(),
				        	'companyName': $('#companyName').val(),
				        	'phoneNumber': $('#phoneNumber').val()
					     }, 
					     dataType: "json",	
				         success: function(data) {
							 removeSpinner();
				        	 if(data){
				        		 if(data.result=="success"){
						        	 window.location="jump.html";
				        		 }else{
									 removeSpinner();
		                			 alert(data.errorDetail);
						        	 return false;
				        		 }
				        	 }
				         },
				         error: function (data) {
							 removeSpinner();
				        	 alert("Internal Error");
				        	 return false;
				         }
				    });    		
				}
			});
		    
		});
		
	</script>
	
</head>
<body onload="load();">
	<div id="masterView" data-role="page" id="page" data-theme="d" >
		<div data-role="header" data-theme="c" class="formHeader" data-iconpos="left" role="navigation">
			<span class="headerSpan"> Start your 60 days free trial today!</span>
		</div>
		
		<div data-role="content" class="registerContent">
		<!-- 
			<div id="leftPane" align="left" class="leftPaneAlignmentStyle">
				
			</div>
		 -->
			<div id="rightPane" class="rightPaneAlignmentStyle" style="margin-top:-20px; padding-top:15px">
				<div class="scanPropertyRowStyle inputMargin">
					<div class="label">First Name</div>
					<div class="scanPropertyElementStyle">
						<input id="firstName" name="firstName" class="scanFormTextInput validinput" type="text" required value=""/>
					</div>
				</div>
				<div class="scanPropertyRowStyle inputMargin">
					<div class="label">Last Name</div>
					<div class="scanPropertyElementStyle">
						<input id="lastName" name="lastName" class="scanFormTextInput validinput" type="text" value=""/>
					</div>
				</div>
				<div class="scanPropertyRowStyle inputMargin">
					<div class="label">Email</div>
					<div class="scanPropertyElementStyle">
						<input id="customerEmail" name="customerEmail" class="scanFormTextInput" type="text" value=""/>
					</div>
				</div>
				<div class="scanPropertyRowStyle inputMargin">
					<div class="label">Company</div>
					<div class="scanPropertyElementStyle">
						<input id="companyName" name="companyName" class="scanFormTextInput validinput" type="text" value=""/>
					</div>
				</div>
				<div class="scanPropertyRowStyle inputMargin">
					<div class="label">Phone</div>
					<div class="scanPropertyElementStyle">
						<input id="phoneNumber" name="phoneNumber" class="scanFormTextInput" type="text" value=""/>
					</div>
				</div>
				<div class="scanButtonDivStyle">
				<table>
					<tr>
            			<td class="scanButtonLeftPadding">&nbsp;</td>
						<td>
						<a data-role="button" id="cancelButton" data-corners="false" data-iconpos="left" data-icon="cancel" class="scanButtonStyle cancelInline">
							 Clear</a>
						<a data-role="button" id="submitButton" style="float: left;" data-corners="false" data-iconpos="left" data-icon="scan" class="scanButtonStyle">
							 Submit</a>
						</td>
					</tr>
					</table>
				</div>
			</div>
		</div>
		
	</div>
</body>
</html>